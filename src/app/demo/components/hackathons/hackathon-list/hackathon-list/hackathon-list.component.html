<!-- Add Hackathon Button -->
<div class="fixed-header">
  <div class="search-container">
    <span class="p-input-icon-left">
      <i class="pi pi-search"></i>
      <input type="text" pInputText [(ngModel)]="searchTerm" 
             (input)="filterHackathons()" 
             placeholder="Search by name..." />
    </span>

    <p-dropdown [options]="eventTypeOptions" [(ngModel)]="selectedEventType" 
                (onChange)="filterHackathons()" 
                placeholder="Filter by type" [showClear]="true">
    </p-dropdown>

  <div class="add-button-wrapper">
    <button class="add-button" (click)="showAddHackathonForm()">
      <i class="pi pi-plus mr-2"></i> Add Hackathon
    </button>
  </div>

  
  <div class="analytics-button-wrapper">
    <button class="show-analytics" (click)="navigateToAnalytics()" >
      <i class="p-button-secondary mr-2"></i> Show Analytics
    </button>
  </div>
  
  </div>
</div>

<!-- Display the Hackathons -->
<div class="hackathon-list-container">
  <div class="col-12 md:col-12">
  <div class="hackathon-grid">
    <div class="hackathon-card" *ngFor="let hackathon of filteredHackathons">
      <!-- Card Header with Logo -->
      <div class="card-header">
        <div class="logo-container">
          <img [src]="hackathon.logo" alt="Hackathon Logo" class="card-logo">
        </div>
        <!-- Floating Action Buttons -->
        <div class="card-actions">
          <button class="action-btn edit-btn" (click)="showAddHackathonForm(hackathon); $event.stopPropagation()">
            <i class="pi pi-pencil"></i>
          </button>
          <button class="action-btn delete-btn" (click)="deleteHackathon(hackathon.id); $event.stopPropagation()">
            <i class="pi pi-trash"></i>
          </button>
        </div>
      </div>
      
      <!-- Card Content -->
      <div class="card-content" [routerLink]="['/hackathon', hackathon.id]">
        <h3 class="card-title">{{ hackathon.title }}</h3>
        
        <div class="card-meta">
          <span class="meta-item location">
            <i class="pi pi-map-marker"></i> {{ hackathon.location }}
          </span>
          <span class="meta-item date">
            <i class="pi pi-calendar"></i> {{ hackathon.startDate | date:'MMM d' }} - {{ hackathon.endDate | date:'MMM d' }}
          </span>
        </div>
        
        <p class="card-description">{{ (hackathon.description) || 'No description provided' }}</p>
        
        <div class="card-footer">
          <span class="event-type" [ngClass]="{'online': hackathon.isOnline, 'onsite': !hackathon.isOnline}">
            <i class="pi" [ngClass]="hackathon.isOnline ? 'pi-globe' : 'pi-building'"></i>
            {{ hackathon.isOnline ? 'Online' : 'Onsite' }}
          </span>
          <span class="participants">
            <i class="pi pi-users"></i> {{ hackathon.maxMembers }} max
          </span>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
<!-- Sidebar for Adding or Editing Hackathon -->
<p-sidebar [(visible)]="visibleSidebar2" position="right">
  <app-hackathon-form 
    *ngIf="visibleSidebar2"
    [hackathon]="selectedHackathon" 
    (hideSidebar)="hideSidebar()">
  </app-hackathon-form>
</p-sidebar>
