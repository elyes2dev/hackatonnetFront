<app-navbar></app-navbar>
<!-- src/app/components/sponsor-leaderboard/sponsor-leaderboard.component.html -->
<div class="main">
    <div id="header">
      <h1>Top Sponsors Leaderboard</h1>
      <button class="share">
        <i class="ph ph-share-network"></i>
      </button>
    </div>
  
    <div *ngIf="loading" class="loading-state">
      <div class="spinner"></div>
      <p>Loading sponsors...</p>
    </div>
  
    <div *ngIf="error" class="error-state">
      <p>Unable to load sponsors data. Please try again later.</p>
      <button (click)="fetchTopSponsors()">Retry</button>
    </div>
  
    <div id="leaderboard" *ngIf="!loading && !error">
      <div class="ribbon"></div>
      <table>
        <tr *ngFor="let sponsor of topSponsors; let i = index" [ngClass]="getRankClass(i)">
          <td class="number">{{i + 1}}</td>
          <td class="name">
            <div class="sponsor-info">
              <div class="avatar" *ngIf="!sponsor.companyLogo">
                {{sponsor.companyName.charAt(0)}}
              </div>
              <img *ngIf="sponsor.companyLogo" [src]="sponsor.companyLogo" alt="Company logo" class="company-logo">
              <a [href]="sponsor.websiteUrl" target="_blank" class="company-link">
                {{sponsor.companyName}}
              </a>
            </div>
          </td>
          <td class="points">
            {{sponsor.reputationPoints}}
            <img *ngIf="i === 0" class="gold-medal" src="https://github.com/malunaridev/Challenges-iCodeThis/blob/master/4-leaderboard/assets/gold-medal.png?raw=true" alt="gold medal"/>
            <span class="badge" [ngClass]="getBadgeClass(sponsor.badge)">
              <span class="badge-icon">{{sponsor.badgeIcon}}</span>
              {{sponsor.badge}}
            </span>
          </td>
        </tr>
        <tr *ngIf="topSponsors.length === 0 && !loading">
          <td colspan="3" class="empty-state">
            <p>No sponsors available to display.</p>
          </td>
        </tr>
      </table>
    </div>
  </div>
  <app-footer></app-footer>