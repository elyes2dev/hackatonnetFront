<div class="register-container">
  <!-- Back Button -->
  <div class="back-button-container">
    <a routerLink="/landing" class="back-button">
      <i class="pi pi-arrow-left"></i>
      <span>Back to Landing</span>
    </a>
  </div>

  <div class="register-content">
    <!-- Logo -->
    <div class="logo-container">
      <img src="assets/layout/images/hackathonnetlogo-nobg.png" alt="Hackathon Net Logo" class="app-logo">
    </div>

    <!-- Register Card -->
    <div class="register-card">
      <div class="register-card-content">
        <!-- Title -->
        <div class="register-header">
          <h1>Create Account</h1>
          <p>Join us and start your journey!</p>
        </div>

        <!-- Registration Form -->
        <div class="register-form">
          <div class="form-row">
            <div class="form-group">
              <label>First Name</label>
              <div class="input-group">
                <i class="pi pi-user input-icon"></i>
                <input pInputText [(ngModel)]="registrationData.name" name="name" required placeholder="First Name" class="register-input">
              </div>
            </div>
            
            <div class="form-group">
              <label>Last Name</label>
              <div class="input-group">
                <i class="pi pi-user input-icon"></i>
                <input pInputText [(ngModel)]="registrationData.lastname" name="lastname" required placeholder="Last Name" class="register-input">
              </div>
            </div>
          </div>

          <div class="form-group">
            <label>Email</label>
            <div class="input-group">
              <i class="pi pi-envelope input-icon"></i>
              <input pInputText [(ngModel)]="registrationData.email" name="email" required placeholder="Email address" class="register-input">
            </div>
          </div>

          <div class="form-group">
            <label>Username</label>
            <div class="input-group">
              <i class="pi pi-id-card input-icon"></i>
              <input pInputText [(ngModel)]="registrationData.username" name="username" required placeholder="Username" class="register-input">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Password</label>
              <div class="input-group">
                <i class="pi pi-lock input-icon"></i>
                <p-password [(ngModel)]="registrationData.password" name="password" 
                          [toggleMask]="true" styleClass="w-full" [inputStyleClass]="'register-input password-input'"></p-password>
              </div>
            </div>
            
            <div class="form-group">
              <label>Confirm Password</label>
              <div class="input-group">
                <i class="pi pi-lock input-icon"></i>
                <p-password [(ngModel)]="registrationData.confirmPassword" name="confirmPassword"
                          [toggleMask]="true" styleClass="w-full" [inputStyleClass]="'register-input password-input'"></p-password>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label>Birthdate</label>
            <div class="input-group">
              <i class="pi pi-calendar input-icon"></i>
              <input type="date" pInputText [(ngModel)]="registrationData.birthdate" name="birthdate" class="register-input">
            </div>
          </div>

          <!-- Profile Picture Upload Section - Keeping Original Functionality -->
          <div class="file-input-container">
            <label class="file-input-label">Profile Picture</label>
            <div class="file-upload-area">
              <i class="upload-icon pi pi-image"></i>
              <div class="upload-text">Click to upload your profile picture</div>
              <div class="upload-hint">Max size: 2MB, formats: JPEG, PNG, GIF</div>
              <input
                type="file"
                class="file-input"
                accept="image/jpeg, image/png, image/gif"
                (change)="onProfilePictureSelected($event)"
              >
            </div>

            <div class="file-info mt-3" *ngIf="selectedProfilePicture">
              <div class="file-preview">
                <div class="flex items-center">
                  <span class="file-badge">
                    <i class="pi pi-image mr-2"></i>{{ selectedProfilePicture?.name }}
                  </span>
                  <img [src]="profilePicturePreview" class="preview-image" alt="Profile Preview">
                </div>
                <button class="delete-btn" type="button" (click)="removeProfilePicture()">
                  <i class="pi pi-times"></i>
                </button>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label>Description</label>
            <textarea pInputTextarea [(ngModel)]="registrationData.description" name="description"
                    rows="3" class="register-input description-input"></textarea>
          </div>

          <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

          <!-- Login Link -->
          <div class="login-link">
            <span>Already have an account?</span>
            <a routerLink="/auth/login">Sign in</a>
          </div>

          <!-- Register Button -->
          <button pButton pRipple [label]="isSubmitting ? 'Registering...' : 'Register'" 
                  class="register-button"
                  [disabled]="isSubmitting"
                  (click)="registerUser()">
            <i *ngIf="isSubmitting" class="pi pi-spin pi-spinner mr-2"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>