<div *ngIf="loading">Loading quizzes...</div>
<div *ngIf="error" class="alert alert-danger">{{ error }}</div>

<h2>Quizzes for Workshop #{{ workshopId }}</h2>

<button pButton label="Add New Quiz" icon="pi pi-plus" class="p-button-success mb-3" (click)="goToAdd()"></button>

<table *ngIf="quizzes.length > 0" class="quiz-table">
  <thead>
    <tr>
      <th>Title</th>
      <th>Status</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let quiz of quizzes">
      <td>{{ quiz.title }}</td>
      <td>
        <span [ngClass]="quiz.isPublished ? 'published' : 'unpublished'">
          {{ quiz.isPublished ? 'Published' : 'Not Published' }}
        </span>
      </td>
      <td>
        <button pButton icon="pi pi-eye" class="p-button-text" (click)="goToDetails(quiz.id_quiz!)" pTooltip="View Details"></button>
        <button pButton icon="pi pi-pencil" class="p-button-text" (click)="goToEdit(quiz.id_quiz!)" pTooltip="Edit Quiz"></button>
        <button pButton icon="pi pi-trash" class="p-button-text p-button-danger" (click)="deleteQuiz(quiz.id_quiz!)" pTooltip="Delete Quiz"></button>
        <button pButton icon="pi pi-plus" class="p-button-text" (click)="goToQuizScoreAdd(quiz.id_quiz!)" pTooltip="Add Score"></button> <!-- New Button -->
    </td>
    </tr>
  </tbody>
</table>

<div *ngIf="!loading && quizzes.length === 0">
  No quizzes found for this workshop.
</div>
